<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" href="css/styles.css">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Part 3 Project1</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

</head>

<body>

    <div class="container">
        <p></p>
        <div class="p-3 text-primary-emphasis bg-primary-subtle border border-primary-subtle rounded-3">
            <p class="text-center fs-2 fw-bold"><%= outputData.location %></p>
            <hr>
            <p class="text-center fw-light">Latitude: <%= outputData.lat %> | Longitude: <%= outputData.lng %></p>
        </div>
        <p></p>
        <div class="p-3 text-primary-emphasis bg-primary-subtle border border-primary-subtle rounded-3">
            <p class="text-center">Temperature : <%= outputData.temp %>°</p>
            <p class="text-center">Wind Speed: <%= outputData.wind_speed %> km/h</p>
            <p class="text-center">Wind Direction: <%= outputData.wind_direction %>°</p>
        </div>
        <p></p>
        <div class="p-3 text-primary-emphasis bg-primary-subtle border border-primary-subtle rounded-3">
          <div class="card">
            <div class="hourly">
                <% for (let i = 0; i < 12; i++) {%>
                <div class="hour-block">
                    <div class="emoji">
                      <% let code = outputData.forecast.weather_code[i] %>
                      <% if (code === 0) { %>
                        <p>☁️</p>
                      <% } else if (code === 1 || code === 2 || code == 3) { %>
                        <p>☁</p>
                      <% } else if (code === 45 || code === 48) { %>
                        <p>🌫️</p>
                      <% } else if (code === 51 || code === 53 || code == 55) { %>
                        <p>🌨</p>
                      <% } else if (code === 56 || code === 57) { %>
                        <p>🌦</p>
                      <% } else if (code === 61 || code === 63 || code == 65) { %>
                        <p>🌧️</p>
                      <% } else if (code === 66 || code === 67) { %>
                        <p>⛆</p>
                      <% } else if (code === 71 || code === 73 || code == 75) { %>
                        <p>❆</p>
                      <% } else if (code === 77) { %>
                        <p>❄️</p>
                      <% } else if (code === 80 || code === 81 || code == 82) { %>
                        <p>☂︎</p>
                      <% } else if (code === 85 || code === 86) { %>
                        <p>☃︎</p>
                      <% } else if (code === 95) { %>
                        <p>⚡</p>
                      <% } else if (code === 96 || code === 99) { %>
                        <p>🌩</p>
                      <% } %>
                    </div>
                    <div class="time">
                      <%= new Date(outputData.forecast.time[i]).toLocaleTimeString("en-US", {timeZone: "Asia/Hong_Kong", hour: '2-digit', minute: '2-digit'}) %>
                    </div>
                    <div class="temperature">
                      <%= outputData.forecast.temperature_2m[i] %> °C
                    </div>
                </div>
                <% } %>
            </div>
        </div>
        </div>
        <p></p>
    </div>

</body>

</html>